# Docker Compose Fragment for Foundation Service
# Include this in the main docker-compose.yml to mount the prompts repository
# 
# CRITICAL: This ensures the 'prompts' repository is correctly mounted into the 
# 'foundation' container, allowing the prompt-registry loader to access all master prompts.

version: "3.9"

services:
  foundation:
    # ... existing service configuration (build, ports, etc.)
    
    environment:
      # CRITICAL: Defines the internal path where the loader looks for prompt files
      PROMPTS_ROOT: /app/prompts
    
    volumes:
      # CRITICAL: Maps the host 'prompts' folder to the container's '/app/prompts'
      # Assuming the prompts repo is a sibling directory to foundation:
      # ~/InfinityXOneSystems/foundation (this repo)
      # ~/InfinityXOneSystems/prompts   (sibling repo)
      - ../prompts:/app/prompts:ro  # read-only mount
      
      # ... other volumes as needed (e.g., logs, config)

# Master environment sample for InfinityXOneSystems Autonomous Code System
# Replace each VAULT:... placeholder with your secret manager reference or mount.
# Do not commit real secrets to Git.

# AI providers
LLM_PROVIDER=OPENAI
LLM_API_KEY=VAULT:secret/data/llm#api_key
LLM_MODEL=gpt-4o
LLM_MAX_TOKENS=8192
LLM_DAILY_BUDGET_USD=100

# Server configuration
PORT=3000
NODE_ENV=production
FRONTEND_URL=https://control.infinityxone.systems
JWT_SECRET=VAULT:secret/data/app#jwt_secret

# GitHub App & OAuth
GITHUB_ORG=InfinityXOneSystems
GITHUB_REPO=InfinityXOneSystems/foundation
GITHUB_APP_ID=VAULT:secret/data/github#app_id
GITHUB_APP_PRIVATE_KEY_PATH=/run/secrets/github_app_private_key.pem
GITHUB_APP_PRIVATE_KEY_VAULT=VAULT:secret/data/github#private_key_pem
GITHUB_APP_WEBHOOK_SECRET=VAULT:secret/data/github#webhook_secret
GITHUB_APP_INSTALLATION_ID=VAULT:secret/data/github#installation_id
GITHUB_APP_WEBHOOK_URL=https://control.infinityxone.systems/api/github/webhook
GITHUB_APP_CALLBACK_URL=https://control.infinityxone.systems/api/github/callback
GITHUB_OAUTH_CLIENT_ID=VAULT:secret/data/oauth#github_client_id
GITHUB_OAUTH_CLIENT_SECRET=VAULT:secret/data/oauth#github_client_secret

AUTOMATION_COMMITTER_NAME="InfinityXOne Automation"
AUTOMATION_COMMITTER_EMAIL=automation@infinityxone.systems

# Cloud / Storage
CLOUD_PROVIDER=AWS
AWS_REGION=us-east-1
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=ixone-artifacts-prod
S3_ACCESS_KEY_ID=VAULT:secret/data/s3#access_key
S3_SECRET_ACCESS_KEY=VAULT:secret/data/s3#secret_key

# DB & cache
DATABASE_URL=VAULT:secret/data/db#url
REDIS_URL=VAULT:secret/data/redis#url

# Vault
VAULT_ADDR=https://vault.infinityxone.systems:8200
VAULT_ROLE_ID=VAULT:secret/data/vault#role_id
VAULT_SECRET_ID=VAULT:secret/data/vault#secret_id

# Mobile / push
OIDC_ISSUER=https://sso.example.com
OIDC_CLIENT_ID=VAULT:secret/data/oidc#client_id
OIDC_CLIENT_SECRET=VAULT:secret/data/oidc#client_secret
OIDC_REDIRECT_URI=com.infinityxone.app:/oauth/callback
PUSH_APNS_KEY_VAULT=VAULT:secret/data/push#apns_key
PUSH_FCM_SERVER_KEY_VAULT=VAULT:secret/data/push#fcm_key
MOBILE_OAUTH_CLIENT_ID=VAULT:secret/data/mobile#client_id
MOBILE_OAUTH_CLIENT_SECRET=VAULT:secret/data/mobile#client_secret

# Autonomous system flags
AUTO_ALL_ON_START=false
INFINITY_AUTONOMOUS_LOOP=false
LOOP_CYCLE_INTERVAL_MS=60000
LOOP_AUTO_SYNC=true
LOOP_AUTO_PUSH=false
LOOP_MAX_ERRORS=5

# Feature toggles & limits
CODEX_ENABLED=true
CODEX_24_7=false
SYNC_ENABLED=true
SYNC_INTERVAL_MS=30000
MAX_MONTHLY_COST_USD=1000.00

# Monitoring & alerts
SENTRY_DSN=VAULT:secret/data/sentry#dsn
PAGERDUTY_API_KEY=VAULT:secret/data/pagerduty#api_key

# Runner autoscaler
AUTOSCALER_MIN=0
AUTOSCALER_MAX=50
AUTOSCALER_CPU_THRESHOLD=0.7
AWS_ASSUME_ROLE_ARN=arn:aws:iam::123456789012:role/AutomationClusterAdmin

# Dev toggles
DEV_MODE=true
ALLOW_LOCAL_VAULT_DEV_MODE=false
